(function(e){function t(t){for(var n,a,i=t[0],c=t[1],u=t[2],l=0,d=[];l<i.length;l++)a=i[l],o[a]&&d.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,a=1;a<r.length;a++){var i=r[a];0!==o[i]&&(n=!1)}n&&(s.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={app:0},o={app:0},s=[];function i(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"5f557452","chunk-1718a974":"c4c9a927","chunk-2d0cc5e5":"beda0fa7"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r={about:1,"chunk-1718a974":1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise(function(t,r){for(var n="css/"+({about:"about"}[e]||e)+"."+{about:"c85dc728","chunk-1718a974":"1d28923c","chunk-2d0cc5e5":"31d6cfe0"}[e]+".css",a=c.p+n,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var i=o[s],u=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(u===n||u===a))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){i=l[s],u=i.getAttribute("data-href");if(u===n||u===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var n=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.request=n,r(o)},d.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(d)}).then(function(){a[e]=0}));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise(function(t,r){n=o[e]=[t,r]});t.push(n[2]=s);var u,l=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=i(e),u=function(t){d.onerror=d.onload=null,clearTimeout(p);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+n+": "+a+")");s.type=n,s.request=a,r[1](s)}o[e]=void 0}};var p=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,l.appendChild(d)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("64a9"),a=r.n(n);a.a},4805:function(e,t,r){"use strict";var n=r("897e"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("7f7f"),r("cadf"),r("551c"),r("097d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",[r("b-navbar",{staticClass:"navbar-expand",attrs:{type:"dark",variant:"dark"}},[r("b-navbar-nav",[r("b-nav-item",{attrs:{to:"/form"}},[e._v("Form")]),r("b-nav-item",{attrs:{to:"/map"}},[e._v("Map")]),r("b-nav-item",{attrs:{href:"https://www.arcgis.com/sharing/rest/oauth2/authorize?client_id=cDEbMgKnRUKN85YW&response_type=token&redirect_uri=http://localhost:8080/redirect.html?",hidden:""}},[e._v("get")])],1),r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-item",{attrs:{active:e.showArc},on:{click:function(t){e.showArc=!e.showArc}}},[e._v("ArcGIS Online")]),r("b-nav-item-dropdown",{attrs:{text:"Job History",right:""}},e._l(e.jobHistory,function(t,n){return r("b-dropdown-item",{on:{click:function(r){e.changeJob(t,n)}}},[e._v(e._s(t.date))])}),1)],1)],1),r("ArcGISOnline",{directives:[{name:"show",rawName:"v-show",value:e.showArc,expression:"showArc"}],attrs:{display:e.showArc,id:"arcgisonline",searchType:"Feature Service"},on:{addItem:e.handleAGOL}})],1),r("AlertOverlay"),r("router-view",{ref:"appBody",staticClass:"view"})],1)},o=[],s=r("3835"),i=(r("28a5"),r("ac6a"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"slide-fade"}},[r("div",[r("b-form-input",{ref:"input",attrs:{type:"text"},model:{value:e.queryStr,callback:function(t){e.queryStr=t},expression:"queryStr"}}),r("b-form-select",{attrs:{options:e.privacy},model:{value:e.selectedPrivacy,callback:function(t){e.selectedPrivacy=t},expression:"selectedPrivacy"}}),r("b-list-group",e._l(e.results,function(t,n){return r("b-list-group-item",{key:n,on:{click:function(r){e.$emit("addItem",t.id)}}},[r("img",{attrs:{src:t.thumbnailUrl}}),r("h5",{staticClass:"noselect"},[e._v(e._s(t.title))]),r("p",{staticClass:"noselect"},[e._v(e._s(t.description))])])}),1)],1)])}),c=[],u=(r("386d"),r("afaa")),l=r("f7fe"),d={name:"ArcGISOnline",props:{display:Boolean},data:function(){return{queryStr:"",results:null,privacy:[{text:"Public",value:"public"},{text:"Organization",value:"org"},{text:"Private",value:"private"},{text:"Shared",value:"shared"}],selectedPrivacy:"public"}},watch:{queryStr:function(e,t){this.queryStr&&this.debounceSearch()},selectedPrivacy:function(e,t){this.queryStr&&this.debounceSearch()},display:function(){this.display&&this.$refs.input.focus()}},created:function(){var e=this;this.debounceSearch=l(this.search,500),u["loadModules"](["esri/portal/Portal"]).then(function(t){var r=Object(s["a"])(t,1),n=r[0],a=new n({authMode:"immediate"});a.load().then(function(){e.portal=a,console.log(a)})})},computed:{queryParams:function(){return{query:"title:".concat(this.queryStr,"* AND type:'Feature Service AND access:").concat(this.selectedPrivacy),sortField:"type",sortOrder:"desc",num:10}}},methods:{search:function(){var e=this;console.log("starting search"),this.portal.queryItems(this.queryParams).then(function(t){e.results=t.results,console.log(t)})}}},p=d,f=(r("caef"),r("2877")),h=Object(f["a"])(p,i,c,!1,null,null,null);h.options.__file="ArcGISOnline.vue";var v=h.exports,m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"alertholder"},[r("b-alert",{attrs:{show:"processing"===e.jobStatus}},[e._v("\n\t\tJob is Processing"),r("Spinner",{attrs:{size:"medium"}})],1),r("b-alert",{attrs:{show:"success"===e.jobStatus,variant:"success",dismissible:""}},[e._v("Job Complete")]),r("b-alert",{attrs:{show:"failed"===e.jobStatus,variant:"danger",dismissible:""}},[e._v("Job Failure")]),e._l(e.messages,function(t,n){return r("b-alert",{key:t,attrs:{show:"",variant:"warning",dismissible:""},on:{dismissed:function(t){e.messages.pop(n)}}},[e._v(e._s(t))])})],2)},b=[],g=r("5b7e"),_=r.n(g),y=r("7ffd"),S={components:{Spinner:_.a},computed:{jobStatus:Object(y["d"])("jobStatus"),messages:Object(y["d"])("messages")}},j=S,w=(r("d6a5"),Object(f["a"])(j,m,b,!1,null,null,null));w.options.__file="AlertOverlay.vue";var O=w.exports,k={name:"app",components:{ArcGISOnline:v,AlertOverlay:O},data:function(){return{showArc:!1}},computed:{searchType:function(){return"Form"==this.$route.name?"Table":"Map"==this.$route.name?"Feature Service":void 0},jobHistory:Object(y["b"])("jobHistory")},created:function(){this.$store.set("jobHistory",null);var e=localStorage.getItem("formDefault");if(e){var t=JSON.parse(e);this.$store.set("requiredParam",t.defReq),this.$store.set("optionalParam",t.defOpt)}},methods:{handleAGOL:function(e){this.$refs.appBody.loadItem(e),this.showArc=!1},changeJob:function(e,t){this.$store.set("newJob",{job:t,info:e})},registerToken:function(e){var t={};e.split("&").forEach(function(e){var r=e.split("=");t[r[0]]=r[1]}),u["loadModules"](["esri/identity/IdentityManager"]).then(function(e){var r=Object(s["a"])(e,1),n=r[0];n.registerToken({server:"https://arcgis.com/sharing/rest",token:t.access_token})})}}},P=k,A=(r("034f"),Object(f["a"])(P,a,o,!1,null,null,null));A.options.__file="App.vue";var E=A.exports,T=r("8c4f"),x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("img",{attrs:{alt:"Vue logo",src:r("cf05")}}),n("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},q=[],I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("h1",[e._v(e._s(e.msg))]),e._m(0),r("h3",[e._v("Installed CLI Plugins")]),e._m(1),r("h3",[e._v("Essential Links")]),e._m(2),r("h3",[e._v("Ecosystem")]),e._m(3)])},J=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v("\n    For a guide and recipes on how to configure / customize this project,"),r("br"),e._v("\n    check out the\n    "),r("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(".\n  ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[e._v("babel")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[e._v("eslint")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),r("li",[r("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),r("li",[r("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Community Chat")])]),r("li",[r("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),r("li",[r("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),r("li",[r("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[e._v("vue-devtools")])]),r("li",[r("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])}],$={name:"HelloWorld",props:{msg:String}},H=$,M=(r("4805"),Object(f["a"])(H,I,J,!1,null,"b9167eee",null));M.options.__file="HelloWorld.vue";var C=M.exports,B={name:"home",components:{HelloWorld:C}},N=B,D=Object(f["a"])(N,x,q,!1,null,null,null);D.options.__file="Home.vue";var G=D.exports;n["a"].use(T["a"]);var L=new T["a"]({routes:[{path:"/",name:"Home",component:G},{path:"/form",name:"Form",component:function(){return r.e("about").then(r.bind(null,"c109"))},props:!0},{path:"/map",name:"Map",component:function(){return r.e("chunk-1718a974").then(r.bind(null,"308d"))},props:!0},{path:"/redirect/:params",name:"redirect",component:function(){return r.e("chunk-2d0cc5e5").then(r.bind(null,"4e42"))},props:!0}]}),F=r("9f7b"),R=(r("f9e3"),r("2dd8"),r("ade3")),W=(r("6762"),r("2fdb"),r("456d"),r("2f62"));n["a"].use(W["a"]);var U={requiredParam:r("9023"),optionalParam:r("5cd1"),jobId:null,jobHistory:null,jobStatus:null,messages:[],geocodeReq:null,geocodeModal:!1},V=y["c"].mutations(U),Y=new W["a"].Store({plugins:[y["a"].plugin],state:U,mutations:V,getters:{orderLen:function(e){return Object.keys(e.requiredParam.Order).length},depotLen:function(e){return Object.keys(e.requiredParam.Depot).length},routeLen:function(e){return Object.keys(e.requiredParam.Route).length}},actions:{setProcessJob:function(e,t){var r=e.commit,n=e.dispatch,a=e.state;r("SET_JOB_STATUS","processing"),t.then(function(e){console.log(e);var t=e.messages.filter(function(e){var t=a.messages;return t.push(e.description),r("SET_MESSAGES",t),e.description.includes("030088")||e.description.includes("030092")});"job-succeeded"==e.jobStatus&&0==t.length?(r("SET_JOB_STATUS","success"),r("SET_JOB_ID",e.jobId),n("setJobHistory",e.jobId)):("job-failed"==e.jobStatus||t.length>0)&&r("SET_JOB_STATUS","failed")})},setJobHistory:function(e,t){var r=e.commit,n=e.state,a=localStorage.getItem("jobhistory");if(a){var o=JSON.parse(a);for(var s in t&&o&&(o[t]={date:Date(),requiredParam:n.requiredParam,optionalParam:n.optionalParam}),o)(new Date).getTime()-new Date(o[s]["date"]).getTime()>=864e5&&delete o[s];a=o}else a=t?Object(R["a"])({},t,{date:Date(),requiredParam:n.requiredParam,optionalParam:n.optionalParam}):null;localStorage.setItem("jobhistory",JSON.stringify(a)),r("SET_JOB_HISTORY",a)},setNewJob:function(e,t){var r=e.commit,n=t.job,a=t.info;r("SET_JOB_ID",n),r("SET_REQUIRED_PARAM",a.requiredParam),r("SET_OPTIONAL_PARAM",a.optionalParam)}}});n["a"].use(F["a"]),n["a"].config.productionTip=!0,L.beforeEach(function(e,t,r){document.title="VRP - ".concat(e.name),r()}),new n["a"]({router:L,store:Y,render:function(e){return e(E)}}).$mount("#app")},"5cd1":function(e,t,r){e.exports=r.p+"assets/optionalParameters.json"},"64a9":function(e,t,r){},"897e":function(e,t,r){},9023:function(e,t,r){e.exports=r.p+"assets/requiredParameters.json"},a0d6:function(e,t,r){},a624:function(e,t,r){},caef:function(e,t,r){"use strict";var n=r("a624"),a=r.n(n);a.a},cf05:function(e,t){e.exports="data:image/png;base64,bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArICJhc3NldHMvbG9nby5wbmciOw=="},d6a5:function(e,t,r){"use strict";var n=r("a0d6"),a=r.n(n);a.a}});
//# sourceMappingURL=app.1d4cd176.js.map